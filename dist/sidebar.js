(()=>{"use strict";function d(d,a,b){return a in d?Object.defineProperty(d,a,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[a]=b,d}function f(d,a){return i(d)||h(d,a)||e(d,a)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(d,e){if(d){if("string"==typeof d)return g(d,e);var b=Object.prototype.toString.call(d).slice(8,-1);return"Object"===b&&d.constructor&&(b=d.constructor.name),"Map"===b||"Set"===b?Array.from(d):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?g(d,e):void 0}}function g(e,a){(null==a||a>e.length)&&(a=e.length);for(var b=0,c=Array(a);b<a;b++)c[b]=e[b];return c}function h(h,a){var b=null==h?null:"undefined"!=typeof Symbol&&h[Symbol.iterator]||h["@@iterator"];if(null!=b){var c,f,g=[],d=!0,i=!1;try{for(b=b.call(h);!(d=(c=b.next()).done)&&(g.push(c.value),!(a&&g.length===a));d=!0);}catch(b){i=!0,f=b}finally{try{d||null==b["return"]||b["return"]()}finally{if(i)throw f}}return g}}function i(b){if(Array.isArray(b))return b}var j=wp.i18n.__,a=wp.element,k=a.Fragment,l=a.useState,m=wp.components.SelectControl,b=wp.data,n=b.withDispatch,o=b.withSelect,p=b.useSelect,q=o(function(e){var a=e("core/data"),b=a.isResolving,c={per_page:100};return{categories:e("core").getEntityRecords("taxonomy","category",c),isRequesting:b("core","getEntityRecords",["taxonomy","category",c])}})(function(g){if(g.isRequesting)return React.createElement(k,null,React.createElement("p",null,"Loading data..."));var a=l(!1),b=f(a,2),c=b[0],h=b[1];return React.createElement(k,null,React.createElement(m,{label:j("Choose a primary category","primary-category"),value:c,options:g.categories.map(function(b){return{label:b.name,value:b.id}}),onChange:function(a){g.setMetaFieldValue("_pjpc_primary_category",a),h(a)}}))});const r=n(function(e){return{setMetaFieldValue:function(a,b){e("core/editor").editPost({meta:d({},a,b)})}}})(q);var s=wp.i18n.__,t=wp.plugins.registerPlugin,u=wp.editPost.PluginDocumentSettingPanel,v=wp.element.Fragment;t("primary-category",{icon:"",render:function(){return React.createElement(v,null,React.createElement(u,{title:s("Primary Category","primary-category")},React.createElement(r,null)))}})})();